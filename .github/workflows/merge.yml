name: Merge and Greet Specific Pull Requests

on:
  workflow_dispatch:

jobs:
  merge_and_greet:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the code
        uses: actions/checkout@v3

      - name: Merge and thank contributors for specific PRs
        run: |
          # Specify the PR numbers to merge
          prs=(574 575)

          # Loop through each specified PR and merge
          for pr in "${prs[@]}"; do
            echo "Merging PR #$pr"
            gh pr merge $pr --auto --squash  # Automatically merge if all requirements are met

            # Add a thank you comment
            echo "Thanking contributor for PR #$pr"
            gh pr comment $pr --body "Thank you for contributing! ðŸŽ‰ Your PR has been merged."
          done
        env:
          GITHUB_TOKEN: ${{ secrets.MY_PAT }}
